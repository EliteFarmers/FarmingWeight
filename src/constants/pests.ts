import { Crop } from './crops.js';

export enum Pest {
	Beetle = 'beetle',
	Cricket = 'cricket',
	Worm = 'worm',
	Fly = 'fly',
	Locust = 'locust',
	Mite = 'mite',
	Mosquito = 'mosquito',
	Moth = 'moth',
	Rat = 'rat',
	Slug = 'slug',
	Mouse = 'mouse',
	Dragonfly = 'dragonfly',
	Firefly = 'firefly',
	Mantis = 'mantis',
}

export const FORTUNE_PER_PEST_BRACKET = 0.4;

const killsPerPestBracket: Record<number, number> = {
	1: 1,
	2: 2,
	3: 3,
	4: 5,
	5: 7,
	6: 9,
	7: 14,
	8: 17,
	9: 21,
	10: 25,
	11: 50,
	12: 80,
	13: 125,
	14: 175,
	15: 250,
};

export const BESTIARY_PEST_BRACKETS: Record<Pest, Record<number, number>> = {
	[Pest.Beetle]: killsPerPestBracket,
	[Pest.Cricket]: killsPerPestBracket,
	[Pest.Worm]: killsPerPestBracket,
	[Pest.Fly]: killsPerPestBracket,
	[Pest.Locust]: killsPerPestBracket,
	[Pest.Mite]: killsPerPestBracket,
	[Pest.Mosquito]: killsPerPestBracket,
	[Pest.Moth]: killsPerPestBracket,
	[Pest.Rat]: killsPerPestBracket,
	[Pest.Slug]: killsPerPestBracket,
	[Pest.Mouse]: {
		1: 1,
		2: 2,
		3: 3,
		4: 5,
		5: 7,
		6: 9,
		7: 11,
		8: 14,
		9: 17,
		10: 20,
		11: 30,
		12: 40,
		13: 55,
		14: 75,
		15: 100,
	},
	[Pest.Dragonfly]: killsPerPestBracket,
	[Pest.Firefly]: killsPerPestBracket,
	[Pest.Mantis]: killsPerPestBracket,
};

export const PEST_EXCHANGE_RATES = {
	0: 0,
	1: 10,
	2: 20,
	3: 30,
	4: 40,
	5: 50,
	6: 60,
	7: 70,
	8: 80,
	9: 90,
	10: 100,
	11: 105,
	12: 110,
	13: 115,
	14: 120,
	15: 125,
	16: 130,
	17: 135,
	18: 140,
	19: 145,
	20: 150,
	21: 153,
	22: 156,
	23: 159,
	24: 162,
	25: 165,
	26: 168,
	27: 171,
	28: 174,
	29: 177,
	30: 180,
	31: 182,
	32: 184,
	33: 186,
	34: 188,
	35: 190,
	36: 192,
	37: 194,
	38: 196,
	39: 198,
	40: 200,
};

export const PEST_IDS: Pest[] = [
	Pest.Beetle,
	Pest.Cricket,
	Pest.Worm,
	Pest.Fly,
	Pest.Locust,
	Pest.Mite,
	Pest.Mosquito,
	Pest.Moth,
	Pest.Rat,
	Pest.Slug,
	Pest.Mouse,
	Pest.Dragonfly,
	Pest.Firefly,
	Pest.Mantis,
];

export const PEST_TO_CROP: Partial<Record<Pest, Crop>> = {
	mite: Crop.Cactus,
	cricket: Crop.Carrot,
	moth: Crop.CocoaBeans,
	worm: Crop.Melon,
	slug: Crop.Mushroom,
	beetle: Crop.NetherWart,
	locust: Crop.Potato,
	rat: Crop.Pumpkin,
	mosquito: Crop.SugarCane,
	fly: Crop.Wheat,
	dragonfly: Crop.Sunflower,
	firefly: Crop.Moonflower,
	mantis: Crop.WildRose,
};

export const CROP_TO_PEST: Record<Crop, Pest> = {
	[Crop.Cactus]: Pest.Mite,
	[Crop.Carrot]: Pest.Cricket,
	[Crop.CocoaBeans]: Pest.Moth,
	[Crop.Melon]: Pest.Worm,
	[Crop.Mushroom]: Pest.Slug,
	[Crop.NetherWart]: Pest.Beetle,
	[Crop.Potato]: Pest.Locust,
	[Crop.Pumpkin]: Pest.Rat,
	[Crop.SugarCane]: Pest.Mosquito,
	[Crop.Wheat]: Pest.Fly,
	[Crop.Seeds]: Pest.Fly,
	[Crop.Sunflower]: Pest.Dragonfly,
	[Crop.Moonflower]: Pest.Firefly,
	[Crop.WildRose]: Pest.Mantis,
};

export const PEST_COLLECTION_BRACKETS = [0, 50, 100, 250, 500, 750, 1000];

// Taken from https://api.elitebot.dev/weights/all
export const PEST_COLLECTION_ADJUSTMENTS: Omit<Record<Pest, Record<number, number>>, Pest.Mouse> = {
	mite: {
		'0': 0,
		'50': 1414.13251,
		'100': 2712.55975,
		'250': 4010.987,
		'500': 5309.41423,
		'750': 6088.47058,
		'1000': 6867.52695,
		'5000': 7906.26874,
	},
	cricket: {
		'0': 0,
		'50': 2204.03809,
		'100': 4331.27618,
		'250': 6458.51429,
		'500': 8585.75237,
		'750': 9862.09523,
		'1000': 11138.4381,
		'5000': 12840.22857,
	},
	moth: {
		'0': 0,
		'50': 1879.52535,
		'100': 3658.0823,
		'250': 5436.63926,
		'500': 7215.1962,
		'750': 8282.33037,
		'1000': 9349.46456,
		'5000': 10772.31011,
	},
	worm: {
		'0': 0,
		'50': 3004.63495,
		'100': 5946.36108,
		'250': 8888.08722,
		'500': 11829.81335,
		'750': 13594.84903,
		'1000': 15359.88472,
		'5000': 17713.26562,
	},
	slug: {
		'0': 0,
		'50': 686.92794,
		'100': 1324.5927,
		'250': 1962.25748,
		'500': 2599.92224,
		'750': 2982.5211,
		'1000': 3365.11997,
		'5000': 3875.25178,
	},
	beetle: {
		'0': 0,
		'50': 2274.53104,
		'100': 4269.48313,
		'250': 6264.43524,
		'500': 8259.3873,
		'750': 9456.35856,
		'1000': 10653.32986,
		'5000': 12249.29152,
	},
	locust: {
		'0': 0,
		'50': 2297.89442,
		'100': 4458.69409,
		'250': 6619.49377,
		'500': 8780.29342,
		'750': 10076.77322,
		'1000': 11373.25305,
		'5000': 13101.89278,
	},
	rat: {
		'0': 0,
		'50': 581.17132,
		'100': 1158.18712,
		'250': 1735.20293,
		'500': 2312.21874,
		'750': 2658.42822,
		'1000': 3004.63771,
		'5000': 3466.25036,
	},
	mosquito: {
		'0': 0,
		'50': 1157.07243,
		'100': 2308.08171,
		'250': 3459.09099,
		'500': 4610.10027,
		'750': 5300.70584,
		'1000': 5991.31141,
		'5000': 6912.11883,
	},
	fly: {
		'0': 0,
		'50': 571.42857,
		'100': 1142.85714,
		'250': 1714.28571,
		'500': 2285.71429,
		'750': 2628.57143,
		'1000': 2971.42857,
		'5000': 3428.57143,
	},
	dragonfly: {
		'0': 0,
		'50': 0,
		'100': 0,
		'250': 0,
		'500': 0,
		'750': 0,
		'1000': 0,
		'5000': 0,
	},
	firefly: {
		'0': 0,
		'50': 0,
		'100': 0,
		'250': 0,
		'500': 0,
		'750': 0,
		'1000': 0,
		'5000': 0,
	},
	mantis: {
		'0': 0,
		'50': 0,
		'100': 0,
		'250': 0,
		'500': 0,
		'750': 0,
		'1000': 0,
		'5000': 0,
	},
};
